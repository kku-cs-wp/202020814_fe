package kr.ac.kku.cs.wp.wsd;


import kr.ac.kku.cs.wp.wsd.model.Board;
import kr.ac.kku.cs.wp.wsd.service.BoardService;
import org.junit.jupiter.api.Test;
import org.springframework.beans.factory.annotation.Autowired;

import static org.junit.jupiter.api.Assertions.*;

 class BoardServiceTest {

    @Autowired
    private BoardService boardService;

    @Test
    public void testCreateBoard() {
        // 게시글 생성
        String title = "테스트 게시글";
        String content = "이것은 테스트를 위한 내용입니다.";

        boardService.createBoard(title, content);

        // 데이터베이스에서 확인
        Board board = boardService.getAllBoards().stream()
                .filter(b -> b.getTitle().equals(title))
                .findFirst()
                .orElse(null);

        assertNotNull(board, "생성된 게시글이 데이터베이스에 저장되지 않았습니다.");
        assertEquals(title, board.getTitle());
        assertEquals(content, board.getContent());
    }
}
