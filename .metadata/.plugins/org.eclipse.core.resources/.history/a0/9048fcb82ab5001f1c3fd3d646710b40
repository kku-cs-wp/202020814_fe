package kr.ac.kku.cs.wp.wsd;



import kr.ac.kku.cs.wp.wsd.model.Board;
import kr.ac.kku.cs.wp.wsd.service.BoardService;
import org.junit.jupiter.api.Test;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.test.context.ContextConfiguration;
import org.springframework.transaction.annotation.Transactional;

import static org.junit.jupiter.api.Assertions.*;

@ContextConfiguration(locations = {"classpath:/app-context.xml"})
@Transactional
public class BoardServiceTest {

    @Autowired
    private BoardService boardService;

    @Test
    public void testCreateBoard() {
        // 게시글 생성
        Board board = new Board();
        board.setTitle("테스트 게시글");
        board.setContent("이것은 테스트 내용입니다.");

        // 서비스 계층을 통해 게시글 저장
        boardService.saveBoard(board);

        // 저장된 게시글 확인
        Board savedBoard = boardService.findById(board.getId());
        assertNotNull(savedBoard, "게시글이 데이터베이스에 저장되지 않았습니다.");
        assertEquals(board.getTitle(), savedBoard.getTitle());
        assertEquals(board.getContent(), savedBoard.getContent());
    }
}
