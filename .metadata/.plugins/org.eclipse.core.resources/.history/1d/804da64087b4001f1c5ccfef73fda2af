package kr.ac.kku.cs.wp.wsd;
import kr.ac.kku.cs.wp.wsd.dao.BoardDAO;
import kr.ac.kku.cs.wp.wsd.model.Board;
import org.hibernate.SessionFactory;
import org.hibernate.cfg.Configuration;

public class HibernateTest {
    public static void main(String[] args) {
        // Hibernate 설정 파일 로드 및 SessionFactory 생성
        SessionFactory sessionFactory = new Configuration().configure().buildSessionFactory();
        BoardDAO boardDAO = new BoardDAO(sessionFactory);

        // 테스트 데이터 삽입
        Board newBoard = new Board("테스트 제목", "테스트 내용");
        boardDAO.saveBoard(newBoard);
        System.out.println("데이터 저장 완료!");

        // 모든 데이터 조회
        boardDAO.getAllBoards().forEach(board -> {
            System.out.println("ID: " + board.getId());
            System.out.println("Title: " + board.getTitle());
            System.out.println("Content: " + board.getContent());
        });

        // SessionFactory 종료
        sessionFactory.close();
    }
}
